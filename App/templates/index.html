{% extends "layout.html" %}
{% block title %}CornHub{% endblock %}
{% block page %}CornHub{% endblock %}

{{ super() }}

{% block content %}

<!-- listings contains all listings in the database -->
<!-- {{listings}} -->


<!-- <div class="index-banner color2 container" style="height:100vh; overflow:scroll; overflow-x: hidden;" > -->

  <span  class="row orange-text"> <p style="font-size:40px; font-style: oblique;text-align:center ; text-decoration:underline;"> ALL LISTINGS </p> </span>
  <div class="index-banner color2 "  >
    <div class="row" style="margin-top: 40px; width: 90%;">
      <div class="row">
        {% for ele in data %}
          <!-- <a class = "card mall" href="../listing/{{ele.listing['id']}}">{{ele.listing['name']}}</a> -->
            <!-- <div class="row"> -->
              <div class="col s12 m6" style="max-width: 100vw;">
                <!-- yellow darken-3 -->
                <div class="card orange darken-4 card-image truncate hoverable" style="border-top-right-radius: 10pt; border-top-left-radius: 10pt; border-bottom-left-radius: 5pt; border-bottom-right-radius: 5pt;"> 
                  <!-- <a href="../listing/{{ele.listing['id']}}">{{ele.listing['html']|safe}}</a> -->
                  {{ele.listing['html']|safe}}
                  <!-- <div class="card-content white-text truncate">
                  </div> -->
                  <div class="card-action black" style=" border-bottom-left-radius: 5pt; border-bottom-right-radius: 5pt;">
                    <!-- <button onclick="deleteListing(`{ele.listing['id']}}`)">Delete</button> -->
                    <a style="color: white;" href="../listing/{{ele.listing['id']}}">{{ele.listing['name']}}</a>
                    <a style="color: white;" href="../profile?id={{ele.farmer['id']}}">{{ele.farmer['shopName']}}</a>
                  </div>
                </div>
              </div>
            <!-- </div> -->
          </a>
        {% endfor %}
                    <script>
                      function deleteListing(id) {
                        if (!id) return
                          fetch("../listing/"+id, {
                            method: 'DELETE'
                          }) 
                          // console.log(id)
                      }
                    </script>
      </div>
    </div>
  
</div>



    
{% endblock %}

